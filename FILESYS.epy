load "SYSTEM"
load "CONVERT"
load "ALGORITHM"

func createFileStream(req name, req spec){
    ret SYSEXEC("open")(name, spec)
}

func getOStream(req file){
    func write(text){
        ret write(toString(text)) of file
    }
    ret write
}

func getIStream(req file){
    func readln(){
        text = readline() of file
        if (text contains SYSEXEC("'\n'")){
            text = slice(text, 0, -1, 1)
        }
        ret text
    }
    ret readln
}