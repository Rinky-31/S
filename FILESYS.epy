load "SYSTEM"
load "CONVERT"
load "ALGORITHM"

class File {
    func _ctor(req name, spec){
        file of this = SYSEXEC("open")(name, value of if (spec != Null) { ret spec } else { ret "r" })
    }

    func write(string){
        if (string == Null){
            string = ""
        }
        write(string) of file
    }

    func close(){
        ret close() of file
    }

    func _dtor(){
        close()
        delete file
    }
}